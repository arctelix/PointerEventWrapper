<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>PointerEvents &amp; PointerEventWrapper</h1><h2>What is it?</h2><p><strong><code>PointerEvents</code>:</strong> (not to be confused with PointerEvent) is an API for handling &amp; binding a PointerEvent, MouseEvent, orTouchEvent in a consist cross browser compatable way. </p>
<p><strong><code>PointerEventWrapper</code>:</strong> A wrapper arround these events so that old and new code can easily interact with them as if they were all the same. This makes adding support for the PointerEvent effortless. Secondly, we add some convenience properties and methods to make these events easier to work with. </p>
<h2>Wait, whats a PointerEvent?</h2><p><strong><code>PointerEvent</code>:</strong> A new event specificification for describing input devices such as a mouse, pen, or touchscreen interact with the browser.  Currently it's only supported by IE 9+, but most major browsers plan to impliment it in the near future. You can see the full specification <a href="https://www.w3.org/TR/pointerevents/">here</a>.</p>
<p><strong><code>pointerType</code> or pointer:</strong> The hardware device initiating the PointerEvent. Currently the pointerType can be a touch, mouse, or pen.</p>
<p><strong>action:</strong> The action initiating the PointerEvent, such as &quot;down&quot; in &quot;pointerdown&quot;.  The other possible actions are &quot;up&quot;, &quot;move&quot;, &quot;over&quot;, &quot;out&quot;, &quot;cancel&quot;, &quot;enter&quot;, &amp; &quot;leave&quot;. </p>
<h2>Why use PointerEventWrapper?</h2><p>The api is easy to use, compatible with all browsers, noramlizes these events, and will save you time is many ways. Here are few example of to use the PointerEvens api.</p>
<h2>Examples:</h2><h5>Binding Events:</h5><p>Here we will bind all events associated with the move and down action:</p>
<pre class="prettyprint source"><code> // With PointerEvents API:
 PointerEvents.bind(document, 'move down', handler)

 // The above is equivalent to this jQuery:
 $(document).on(&quot;touchmove mousemove touchstart mousedown&quot;, handler)

 // and equivalent to this vanilla js:
 docuement.addEventListener('mousemove', movehandler)
 docuement.addEventListener('mousedown', downhandler)
 docuement.addEventListener('touchmove', movehandler)
 docuement.addEventListener('touchstart', downhandler)

 // NOTE: Any form of event binding will work with PointerEvents.
 // PointerEvents.bind() is merely a convenience.</code></pre><h5>Handling Events:</h5><p>Points can be a touch, mouse, or pen. The PointerEvents API allows you to treat them all the same, no more writing code to handle differnet events. Here we'll use <code>point</code> exactly how you would have used <code>MouseEvent</code>, <code>TouchEvent</code>, or <code>PointerEvent</code>.</p>
<pre class="prettyprint source"><code> function handler(e){
     // Wrap the event with PointerEventWrapper
     var pe = PointerEvents.parse(e)
     var point = pe.changedPoints[0]

     // Handle move events
     if(pe.move){
         // We track all previous points for you
         // and provide some useful properties.
         var clientDeltaX = point.deltaX

         // You can still access the old point properties too.
         var pointOld = pe.points[point.pointerId]
         var screenDeltaX = pointOld.screenX - point.screenX

         // Catch all touch events
         if (pe.isTouch)
             console.log('This event was generated by a touch')

         // Catch mouse events on browsers with native PointerEvent
         else if (pe.isMouse)
             console.log('This event was generated by a mouse')

         // Catch pen events on browsers with native PointerEvent
         else if (pe.isPen)
             console.log('This event was generated by a pen')

         // Browsers without native PointerEvent will fire fake mouse
         // events to accompany touch events.  You will have to test
         // for this on your own.  Most commonly you will just test
         // for isTouch.
         else
             console.log('This could be a real mouse or pen event, a fake
             mouse or pen event, but never a touch!')
     }

     // Handle down events
     if(pe.down){
         if (pe.isTouch)
             console.log('Touch down!&quot;)
         else
             console.log('Mouse or pen down!&quot;)
     }
 }</code></pre><h5>The benefits of PointerEventWrapper:</h5><p>Here we'll calculate the client delta for mouse and touch events with and without the PointerEventWrapper.</p>
<pre class="prettyprint source"><code> // With PointerEventWrapper
 function handler(e){
     var pe = PointerEvents.parse(e)
     var point = pe.changedPoints[0]
     if(pe.move){
         var clientDeltaX = point.deltaX
         var clientDeltaY = point.deltaY
     }
 }

 // Without requires 75% more code.
 var prevY, prevX
 function handler(e){
     var clientDeltaX, clientDeltaY, touch
     if(e.type == 'mousedown'){
         prevX = e.clientX
         prevY = e.clientY
     }
     else if(e.type == 'touchstart'){
         touch = e.changedTouches[0]
         prevX = touch.clientX
         prevY = touch.clientY
     }
     else if(e.type == 'mousemove'){
         clientDeltaX = prevX - e.clientX
         clientDeltaY = prevY - e.clientY
     }
     else if(e.type == 'touchmove'){
         touch = e.changedTouches[0]
         clientDeltaX = prevX - point.clientX
         clientDeltaY = prevY - point.clientY
     }
     else if(e.type == 'mouseup' || e.type == 'touchend'){
         prevX = undefined
         prevY = undefined
     }
 }</code></pre><h5>Instantly make old code compatible with a PointerEvent.</h5><p>An existingHandler for TouchEvents and or MouseEvents is shown below.  Adding one line
of code is all you need.</p>
<pre class="prettyprint source"><code> function existingHandler(e){
     e = PointerEvents.parse(e)
     // Any existing code here will instantly work with PointerEvents,
     // even if it was not originally designed to do so, without any
     // changes! However, a quick refactor cloud reduce your code base
     // significantly.
 }</code></pre><h5>Some shortcuts that can be uefull with other libraries:</h5><p>Calling toString on a PointerEvents action will return a space separated string of the required events.</p>
<pre class="prettyprint source"><code> var downString = PointerEvents.down.toString()
 > &quot;pointerdown mousedown touchstart&quot;

 // Bind down actions with jQuery
 $(document).on(PointerEvents.down.toString(), downHandler)

 // Bind multiple down actions with jQuery
 $(document).on(PointerEvents.down + ' ' + PointerEvents.up, downUpHandler)</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="PointerEvents.PointerEventWrapper.html">PointerEventWrapper</a></li></ul><h3>Namespaces</h3><ul><li><a href="PointerEvents.html">PointerEvents</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Mon Jan 25 2016 21:59:39 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>